:doctitle: ESPD Architecture and Procurement Procedure Steps
:doccode: espd-tech-prod-032
:author: NPJ
:authoremail: nicole-anne.paterson-jones@ext.ec.europa.eu
:docdate: January 2024

== ESPD Architecture Overview 

The purpose of the ESPD Exchange data model (ESPD-EDM) is to assist developers in the creation of an ESPD Service by providing a model. This ensures that the ESPD Request and the ESPD Response files produced across all ESPD Services are consistent, and comply with the relevant legislation. 

Key components and standards were adopted in alignment with related projects in European public procurement such as EU Vocabularies and eCertis:

* UBL
* UML
* A data structure
* XSL(T)
* XML 

Below is a high level overview of the ESPD Architecture. 

image:ESPD_Architecture_Overview.jpg[ESPD Architecture Overview,align="center",width=650,height=500]

_Figure 10. ESPD Architecture Overview_

The ESPD Architecture components interact with each other to produce the final ESPD UBL XML Request and Response. 

* *The UBL (https://docs.oasis-open.org/ubl/UBL-2.3.html[Universal Business Language]) component* 

This describes the UBL language that is used to define the ESPD Request and Response XML elements, and attributes of XML elements. 

* *The UML component* 

This describes the Request and the Response model elements and their attributes, relationships between elements, and relationship cardinalities. There is a BOV (Business Oriented View) model and a TOV (Technical Oriented View) model. The TOV describes the UBL layer. 

* *The ESPD Criterion Data Structure component* 

This describes each Request and Response criterion and its hierarchical tree structure of descriptive elements. It is maintained in MS Excel format file then transformed (saved) into an ODS (Open Document) file, from which an initial XML file is extracted. From the XML file an ESPD UBL XML file is generated using XSLT transformation rules. 

* *The ESPD UBL XML component*

This describes the resulting ESPD UBL XML files for the Request (generated by the Buyer or CA -contracting authority-) and for the Response (generated by the EO -economic operator-). These are generated by XSLT transformations applied to the related Criterion ODS XML file. 

* *The ESPD Codelists Data Structure component* 

This describes, in MS Excel format, the attribute-value structure of the codes for each code list used in the ESPD project. The MS Excel file is transformed (saved) as an XML Spreadsheet file, from which the ESPD Codelist Generic Code files are generated using XSL transformation rules. 

* *The ESPD Codelists generic code component*

This describes the resulting ESPD Codelists generic code files produced by the XSL transformations applied to the related Codelists XML file. 

* *The ESPD Validation component*. 

This validates the generated files produced (ESPD Request UBL XML, ESPD Response UBL XML, ESPD Codelists Generic Code) against a UBL schema and a set of ESPD specific rules. This allows the  high level validation of ESPD documents produced by the various ESPD Services implemented by different member states. The validation tool (testbed) can be found https://www.itb.ec.europa.eu/espd/upload[here online].


== ESPD Procurement Procedure Steps 

The set of tasks for the whole procurement procedure are summarised in the following figures. 

The Buyer or the Contracting Authority (CA) initiates a procurement procedure. 

image:ESPD_Buyer_Plan.jpg[Buyer Planning,align="center",width=650,height=500]

_Figure 10_a. Buyer Planning_

The Buyer launches a Request. 

image:ESPD_Buyer_Request.jpg[Buyer Request,align="center",width=650,height=500]

_Figure 10_b. Buyer Request_

Economic Operators (EO) respond to the (officially published) Request. 

image:ESPD_EO_Response.jpg[EO Response,align="center",width=650,height=500]

_Figure 10_c. Economic Operator (EO) Response_

Finally, the Buyer and the EO interact to conclude the procurement procedure. 

image:ESPD_Buyer_EO.jpg[Buyer and EO,align="center",width=650,height=500]

_Figure 10_d. Buyer and EO_